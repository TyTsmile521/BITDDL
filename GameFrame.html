<!doctype html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="StyleSets/gameframe.css">
    <link rel="stylesheet" type="text/css" href="StyleSets/universial.css">
    <script src="Lib/rc.2_pixi.js"></script>
</head>

<script>
    var dialogResult = -1;
    function clearTextArea() {
        document.getElementById("text_area").innerHTML = "";
    }
    function showDialog(text) {
        let texta = document.getElementById("text_area");
        texta.focus();
        texta.innerHTML = "";
        let maintext = document.createElement("p");
        maintext.innerHTML = text.content;
        texta.appendChild(maintext);
        if (typeof (text.options) != "undefined" && text.options.length != 0) {
            if (text.options.length > 0)
                for (let i = 0; i < text.options.length; i++) {
                    let tmp = document.createElement("p");
                    tmp.className = "option_text";
                    tmp.innerHTML = '[' + text.options[i].name + ']:' + text.options[i].content;
                    tmp.addEventListener("click", function () {
                        dialogResult = i;
                        console.log(dialogResult);
                    });
                    texta.appendChild(tmp);
                }
        } else {
            let tmp = document.createElement("p");
            tmp.className = "option_text";
            tmp.innerHTML = "*结束*";
            tmp.addEventListener("click", function () {
                dialogResult = 0;
                document.getElementById("maingameframe").focus();
            });
            texta.appendChild(tmp);
        }

    }
</script>

<body>
    <iframe src="GameWindow.html" scrolling="no" frameborder="0" id="maingameframe"></iframe>
    <div class="toolbar">
        <img src="sprite/players/neko.jpg" id="character_avator" class="avator">
        <div class="text_area border_s" id="text_area">

        </div>
        <div class="button_box">

        </div>
    </div>
</body>

<!-- <script type = "module"src="behavejs/indexpage.js"></script> -->

</html>